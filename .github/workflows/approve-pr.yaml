name: Approve PR

on: pull_request

jobs:
  dependabot:
    name: Dependabot dependencies
    runs-on: ubuntu-latest
    if: >-
      (
        github.event.pull_request.user.login == 'dependabot[bot]' ||
        github.event.pull_request.user.login == 'dependabot-preview[bot]'
      ) &&
      (
        startsWith(github.head_ref, 'dependabot-npm_and_yarn-babel-') ||
        startsWith(github.head_ref, 'dependabot-npm_and_yarn-typescript-eslint-parser-') ||
        startsWith(github.head_ref, 'dependabot-npm_and_yarn-eslint-') ||
        startsWith(github.head_ref, 'dependabot-npm_and_yarn-prettier-') ||
        startsWith(github.head_ref, 'dependabot-npm_and_yarn-types-') ||
        startsWith(github.head_ref, 'dependabot-npm_and_yarn-typescript-') ||
        startsWith(github.head_ref, 'dependabot-npm_and_yarn-webpack-')
      )
    steps:
      - name: Approve pull request
        uses: hmarr/auto-approve-action@v2.0.0
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
